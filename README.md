# UVC Camera GUI

A macOS GUI application for controlling UVC-compatible USB cameras. This application provides an intuitive interface to adjust camera settings like brightness, contrast, saturation, and more, with the ability to save and load presets as YAML files.

## Features

1. **Camera Selection**: Automatically detects and lists all connected UVC cameras
2. **Dynamic Control Discovery**: Queries each camera to discover available controls and their ranges  
3. **Real-time Control Adjustment**: Use sliders to adjust camera settings in real-time
4. **YAML Preset Management**: Save current settings as presets and load them later
5. **Type-safe Value Handling**: Proper handling of different control data types (int8, int16, boolean, etc.)

## Requirements

- macOS 10.15 or later
- Xcode (for building)
- UVC-compatible USB camera

## Building

You can build the application using either Xcode or the command line:

### Using Xcode
1. Open `UVCCameraGUI.xcodeproj` in Xcode
2. Build and run the project (âŒ˜+R)

### Using Command Line
```bash
make build
```

## Usage

1. **Connect Camera**: Connect your UVC camera to the Mac
2. **Launch Application**: Run the UVCCameraGUI application
3. **Select Camera**: Choose your camera from the dropdown menu
4. **Adjust Controls**: Use the sliders to adjust camera settings:
   - Each control shows current value, minimum, and maximum
   - Changes are applied in real-time
5. **Save Preset**: Click "Save Preset" to save current settings to a YAML file
6. **Load Preset**: Click "Load Preset" to restore settings from a YAML file

## Supported Controls

The application supports all standard UVC controls that your camera provides, including:

- **brightness**: Image brightness adjustment (-64 to 64)
- **contrast**: Image contrast adjustment (0 to 64) 
- **saturation**: Color saturation (0 to 128)
- **hue**: Color hue adjustment (-40 to 40)
- **white-balance-temp**: White balance temperature (2800 to 6500K)
- **auto-white-balance-temp**: Enable/disable auto white balance
- **gain**: Sensor gain (0 to 100)
- **sharpness**: Image sharpness (0 to 6)
- **gamma**: Gamma correction (72 to 500)
- **backlight-compensation**: Backlight compensation (0 to 2)
- **power-line-frequency**: Power line frequency setting (0 to 2)

## Preset File Format

Presets are saved as human-readable YAML files:

```yaml
# UVC Camera Control Preset
# Generated by UVC Camera GUI
# Created: Oct 14, 2024 at 3:15:22 PM

controls:
  brightness: 0
  contrast: 32
  saturation: 80
  hue: 0
  white_balance_temp: 4600
  auto_white_balance_temp: 1
  gain: 0
  sharpness: 2
  gamma: 100
  backlight_compensation: 1
  power_line_frequency: 1
```

## Architecture

The application consists of several key components:

- **UVCController**: Interface to the existing UVC library for camera communication
- **MainViewController**: Main UI controller managing camera selection and controls
- **PresetManager**: Handles saving/loading YAML preset files  
- **UVCValue/UVCType**: Type-safe value containers for different control data types

## Troubleshooting

**No cameras detected:**
- Ensure your camera is UVC-compatible
- Try disconnecting and reconnecting the camera
- Check that the camera isn't being used by another application

**Controls not responding:**
- Some cameras may have controls that are read-only
- Try refreshing the camera list
- Check camera documentation for supported features

**Preset loading fails:**
- Ensure the YAML file format is correct
- Check that control names match those supported by your camera
- Some controls may not be available on all cameras

## Command Line Tool

The original command-line tool `uvc-util` is still available for scripting:

```bash
# List cameras
./uvc-util --list-devices

# Show all controls for first camera  
./uvc-util -I 0 --show-control="*"

# Set brightness
./uvc-util -I 0 --set brightness=20

# Get current value
./uvc-util -I 0 --get brightness
```

## License

This project builds upon the original UVC library code. See individual source files for copyright information.